---
import type { InferEntrySchema } from "astro:content";
import Section from "../components/Section.astro";
import { format } from "../util";
import { container } from "../../styled-system/patterns";
import Layout from "./Layout.astro";
import { css } from "../../styled-system/css";
import { markdown } from "../recipes/markdown";

interface Props {
  frontmatter: InferEntrySchema<"blog">;
}

const { frontmatter } = Astro.props;

const title = css({
  marginBottom: "10",
  paddingBottom: "6",
  pos: "relative",
  borderBottom: "1px solid {colors.text.dark}",
  fontSize: "4xl",
  wordBreak: "keep-all",
});
---

<Layout title={["BLOG", frontmatter.title]} pageType="article">
  <div
    class={container({
      paddingInline: "px.container",
    })}
  >
    <Section heading="BLOG">
      <time
        datetime={frontmatter.pubDate.toISOString()}
        class={css({
          display: "block",
          marginBottom: "2",
          color: "text.gray",
        })}
      >
        {format(frontmatter.pubDate)}
      </time>
      <h2 class={title}>
        {frontmatter.title}
      </h2>
      <div class={markdown({ type: "blog" })}>
        <slot />
      </div>
    </Section>
  </div>
</Layout>
