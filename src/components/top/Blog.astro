---
import { getCollection } from "astro:content";
import { container, vstack } from "../../../styled-system/patterns";
import BlogItem from "../BlogItem.astro";
import TopSection from "./TopSection.astro";

const blog = await getCollection("blog");

const section = container({
  paddingInline: "px.container",
  paddingBlock: "py.section",
  maxWidth: "max.width.container",
});
---

<TopSection heading="BLOG" href="/blog" class={section}>
  <ul class={vstack({ gap: "10", "& li": { width: "100%" } })}>
    {
      blog.map((item) => (
        <li>
          <a href={`/blog/${item.slug}`}>
            <BlogItem date={item.data.pubDate}>{item.data.title}</BlogItem>
          </a>
        </li>
      ))
    }
  </ul>
</TopSection>
